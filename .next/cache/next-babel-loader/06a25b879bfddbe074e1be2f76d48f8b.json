{"ast":null,"code":"import { fromJS } from 'immutable';\nimport PropTypes from 'prop-types';\nimport { propCheck } from 'redux-modules-middleware';\nimport cloneDeep from 'lodash.clonedeep';\n\nconst TransformModules = defaultFields => ({\n  setValue: {\n    reducer: (state, {\n      payload\n    }) => {\n      // debugger;\n      state = state.set(payload.field, payload.value);\n      return state;\n    }\n  },\n  set: {\n    middleware: [propCheck({\n      field: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n      value: PropTypes.any,\n      isFromJS: PropTypes.bool\n    })],\n    reducer: (state, {\n      payload\n    }) => {\n      if (Array.isArray(payload.field)) {\n        state = state.setIn(payload.field, payload.isFromJS ? fromJS(payload.value) : payload.value);\n      } else {\n        state = state.set(payload.field, payload.isFromJS ? fromJS(payload.value) : payload.value);\n      }\n\n      return state;\n    }\n  },\n  setIn: {\n    reducer: (state, {\n      payload\n    }) => {\n      Object.keys(payload.params).forEach(field => {\n        state = state.setIn([payload.field, field], payload.params[field]);\n      });\n      return state;\n    }\n  },\n  setMultiple: {\n    reducer: (state, {\n      payload\n    }) => {\n      Object.keys(payload).forEach(field => {\n        state = state.setIn(field.toString().split('.'), payload[field]);\n      });\n      return state;\n    }\n  },\n  clear: {\n    reducer: () => cloneDeep(defaultFields)\n  },\n  clearByField: {\n    middleware: [propCheck({\n      field: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n    })],\n    reducer: (state, {\n      payload\n    }) => {\n      state = state.set(payload.field, cloneDeep(defaultFields.get(payload.field)));\n      return state;\n    }\n  }\n});\n\nexport default TransformModules;","map":{"version":3,"names":["fromJS","PropTypes","propCheck","cloneDeep","TransformModules","defaultFields","setValue","reducer","state","payload","set","field","value","middleware","oneOfType","string","array","any","isFromJS","bool","Array","isArray","setIn","Object","keys","params","forEach","setMultiple","toString","split","clear","clearByField","get"],"sources":["/Volumes/Data/Work/Digitalax/PFPMint/src/utils/transform-modules.js"],"sourcesContent":["import { fromJS } from 'immutable';\nimport PropTypes from 'prop-types';\nimport { propCheck } from 'redux-modules-middleware';\nimport cloneDeep from 'lodash.clonedeep';\n\nconst TransformModules = (defaultFields) => ({\n  setValue: {\n    reducer: (state, { payload }) => {\n      // debugger;\n      state = state.set(payload.field, payload.value);\n      return state;\n    },\n  },\n  set: {\n    middleware: [\n      propCheck({\n        field: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n        value: PropTypes.any,\n        isFromJS: PropTypes.bool,\n      }),\n    ],\n    reducer: (state, { payload }) => {\n      if (Array.isArray(payload.field)) {\n        state = state.setIn(payload.field, payload.isFromJS ? fromJS(payload.value) : payload.value);\n      } else {\n        state = state.set(payload.field, payload.isFromJS ? fromJS(payload.value) : payload.value);\n      }\n      return state;\n    },\n  },\n  setIn: {\n    reducer: (state, { payload }) => {\n      Object.keys(payload.params).forEach((field) => {\n        state = state.setIn([payload.field, field], payload.params[field]);\n      });\n\n      return state;\n    },\n  },\n  setMultiple: {\n    reducer: (state, { payload }) => {\n      Object.keys(payload).forEach((field) => {\n        state = state.setIn(field.toString().split('.'), payload[field]);\n      });\n      return state;\n    },\n  },\n  clear: {\n    reducer: () => cloneDeep(defaultFields),\n  },\n  clearByField: {\n    middleware: [\n      propCheck({\n        field: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n      }),\n    ],\n    reducer: (state, { payload }) => {\n      state = state.set(payload.field, cloneDeep(defaultFields.get(payload.field)));\n      return state;\n    },\n  },\n});\n\nexport default TransformModules;\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,WAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,QAA0B,0BAA1B;AACA,OAAOC,SAAP,MAAsB,kBAAtB;;AAEA,MAAMC,gBAAgB,GAAIC,aAAD,KAAoB;EAC3CC,QAAQ,EAAE;IACRC,OAAO,EAAE,CAACC,KAAD,EAAQ;MAAEC;IAAF,CAAR,KAAwB;MAC/B;MACAD,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAUD,OAAO,CAACE,KAAlB,EAAyBF,OAAO,CAACG,KAAjC,CAAR;MACA,OAAOJ,KAAP;IACD;EALO,CADiC;EAQ3CE,GAAG,EAAE;IACHG,UAAU,EAAE,CACVX,SAAS,CAAC;MACRS,KAAK,EAAEV,SAAS,CAACa,SAAV,CAAoB,CAACb,SAAS,CAACc,MAAX,EAAmBd,SAAS,CAACe,KAA7B,CAApB,CADC;MAERJ,KAAK,EAAEX,SAAS,CAACgB,GAFT;MAGRC,QAAQ,EAAEjB,SAAS,CAACkB;IAHZ,CAAD,CADC,CADT;IAQHZ,OAAO,EAAE,CAACC,KAAD,EAAQ;MAAEC;IAAF,CAAR,KAAwB;MAC/B,IAAIW,KAAK,CAACC,OAAN,CAAcZ,OAAO,CAACE,KAAtB,CAAJ,EAAkC;QAChCH,KAAK,GAAGA,KAAK,CAACc,KAAN,CAAYb,OAAO,CAACE,KAApB,EAA2BF,OAAO,CAACS,QAAR,GAAmBlB,MAAM,CAACS,OAAO,CAACG,KAAT,CAAzB,GAA2CH,OAAO,CAACG,KAA9E,CAAR;MACD,CAFD,MAEO;QACLJ,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAUD,OAAO,CAACE,KAAlB,EAAyBF,OAAO,CAACS,QAAR,GAAmBlB,MAAM,CAACS,OAAO,CAACG,KAAT,CAAzB,GAA2CH,OAAO,CAACG,KAA5E,CAAR;MACD;;MACD,OAAOJ,KAAP;IACD;EAfE,CARsC;EAyB3Cc,KAAK,EAAE;IACLf,OAAO,EAAE,CAACC,KAAD,EAAQ;MAAEC;IAAF,CAAR,KAAwB;MAC/Bc,MAAM,CAACC,IAAP,CAAYf,OAAO,CAACgB,MAApB,EAA4BC,OAA5B,CAAqCf,KAAD,IAAW;QAC7CH,KAAK,GAAGA,KAAK,CAACc,KAAN,CAAY,CAACb,OAAO,CAACE,KAAT,EAAgBA,KAAhB,CAAZ,EAAoCF,OAAO,CAACgB,MAAR,CAAed,KAAf,CAApC,CAAR;MACD,CAFD;MAIA,OAAOH,KAAP;IACD;EAPI,CAzBoC;EAkC3CmB,WAAW,EAAE;IACXpB,OAAO,EAAE,CAACC,KAAD,EAAQ;MAAEC;IAAF,CAAR,KAAwB;MAC/Bc,MAAM,CAACC,IAAP,CAAYf,OAAZ,EAAqBiB,OAArB,CAA8Bf,KAAD,IAAW;QACtCH,KAAK,GAAGA,KAAK,CAACc,KAAN,CAAYX,KAAK,CAACiB,QAAN,GAAiBC,KAAjB,CAAuB,GAAvB,CAAZ,EAAyCpB,OAAO,CAACE,KAAD,CAAhD,CAAR;MACD,CAFD;MAGA,OAAOH,KAAP;IACD;EANU,CAlC8B;EA0C3CsB,KAAK,EAAE;IACLvB,OAAO,EAAE,MAAMJ,SAAS,CAACE,aAAD;EADnB,CA1CoC;EA6C3C0B,YAAY,EAAE;IACZlB,UAAU,EAAE,CACVX,SAAS,CAAC;MACRS,KAAK,EAAEV,SAAS,CAACa,SAAV,CAAoB,CAACb,SAAS,CAACc,MAAX,EAAmBd,SAAS,CAACe,KAA7B,CAApB;IADC,CAAD,CADC,CADA;IAMZT,OAAO,EAAE,CAACC,KAAD,EAAQ;MAAEC;IAAF,CAAR,KAAwB;MAC/BD,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAUD,OAAO,CAACE,KAAlB,EAAyBR,SAAS,CAACE,aAAa,CAAC2B,GAAd,CAAkBvB,OAAO,CAACE,KAA1B,CAAD,CAAlC,CAAR;MACA,OAAOH,KAAP;IACD;EATW;AA7C6B,CAApB,CAAzB;;AA0DA,eAAeJ,gBAAf"},"metadata":{},"sourceType":"module"}