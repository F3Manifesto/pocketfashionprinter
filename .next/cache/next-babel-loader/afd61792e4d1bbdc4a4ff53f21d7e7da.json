{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport axios from 'axios';\nimport qs from 'qs';\nimport axiosRetry from 'axios-retry';\nimport { getAuthToken } from '@helpers/user.helpers';\nimport { STAGE_ESPA_BACKEND_URL } from '@constants/global.constants';\nimport 'core-js/es/string';\nimport 'core-js/es/number';\nimport 'core-js/es/array';\n\nrequire('es6-promise').polyfill();\n\nrequire('es6-object-assign').polyfill();\n\nvar DEFAULT_OPTIONS = {\n  withCredentials: true\n};\nvar API_BASE_URL = STAGE_ESPA_BACKEND_URL; // const API_BASE_URL = 'https://7kuwlltzmc.execute-api.eu-central-1.amazonaws.com/latest';\n\naxios.defaults.baseURL = API_BASE_URL;\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxiosRetry(axios, {\n  retries: 1,\n  retryCondition: function retryCondition(error) {\n    return !error.response;\n  }\n});\n/**\n * Execute all requests\n * @param {String} method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\n\nfunction executeRequest(method, url, data) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_OPTIONS;\n  var headers = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var params = {\n    method: method,\n    url: url,\n    data: data,\n    options: _objectSpread(_objectSpread({}, options), DEFAULT_OPTIONS),\n    headers: {\n      Authorization: getAuthToken()\n    }\n  };\n  return new Promise(function (resolve, reject) {\n    axios(params).then(function (response) {\n      resolve(response.data);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n}\n/**\n * Get method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\n\n\nexport function get(url, data, options) {\n  var query = qs.stringify(data, {\n    encode: true,\n    arrayFormat: 'brackets'\n  });\n  return executeRequest('get', \"\".concat(url, \"?\").concat(query || ''), null, options);\n}\n/**\n * Post method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\n\nexport function post(url, data, options) {\n  // if need upload file use this post\n  return executeRequest('post', \"\".concat(url), data, options);\n}\n/**\n * Patch method\n * @param {String}url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\n\nexport function patch(url, data, options) {\n  return executeRequest('patch', \"\".concat(url), data, options);\n}\n/**\n * Put method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\n\nexport function put(url, data, options) {\n  return executeRequest('put', \"\".concat(url), data, options);\n}\n/**\n * Delete method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\n\nexport function del(url, data, options) {\n  return executeRequest('delete', \"\".concat(url), data, options);\n}","map":{"version":3,"names":["axios","qs","axiosRetry","getAuthToken","STAGE_ESPA_BACKEND_URL","require","polyfill","DEFAULT_OPTIONS","withCredentials","API_BASE_URL","defaults","baseURL","headers","post","retries","retryCondition","error","response","executeRequest","method","url","data","options","params","Authorization","Promise","resolve","reject","then","catch","get","query","stringify","encode","arrayFormat","patch","put","del"],"sources":["/Volumes/Data/Work/Digitalax/PFPMint/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\nimport qs from 'qs';\nimport axiosRetry from 'axios-retry';\nimport { getAuthToken } from '@helpers/user.helpers';\nimport { STAGE_ESPA_BACKEND_URL } from '@constants/global.constants'\n\nimport 'core-js/es/string';\nimport 'core-js/es/number';\nimport 'core-js/es/array';\n\nrequire('es6-promise').polyfill();\nrequire('es6-object-assign').polyfill();\n\nconst DEFAULT_OPTIONS = { withCredentials: true };\nconst API_BASE_URL = STAGE_ESPA_BACKEND_URL;\n// const API_BASE_URL = 'https://7kuwlltzmc.execute-api.eu-central-1.amazonaws.com/latest';\n\naxios.defaults.baseURL = API_BASE_URL;\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\naxiosRetry(axios, {\n  retries: 1,\n  retryCondition: (error) => !error.response,\n});\n\n/**\n * Execute all requests\n * @param {String} method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\nfunction executeRequest(method, url, data, options = DEFAULT_OPTIONS, headers = {}) {\n  const params = {\n    method,\n    url,\n    data,\n    options: {\n      ...options,\n      ...DEFAULT_OPTIONS,\n    },\n    headers: {\n      Authorization: getAuthToken(),\n    },\n  };\n\n  return new Promise((resolve, reject) => {\n    axios(params)\n      .then((response) => {\n        resolve(response.data);\n      })\n      .catch((error) => {\n        reject(error);\n      });\n  });\n}\n\n/**\n * Get method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\nexport function get(url, data, options) {\n  const query = qs.stringify(data, { encode: true, arrayFormat: 'brackets' });\n  return executeRequest('get', `${url}?${query || ''}`, null, options);\n}\n\n/**\n * Post method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\nexport function post(url, data, options) {\n  // if need upload file use this post\n  return executeRequest('post', `${url}`, data, options);\n}\n\n/**\n * Patch method\n * @param {String}url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\nexport function patch(url, data, options) {\n  return executeRequest('patch', `${url}`, data, options);\n}\n\n/**\n * Put method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\nexport function put(url, data, options) {\n  return executeRequest('put', `${url}`, data, options);\n}\n\n/**\n * Delete method\n * @param {String} url\n * @param {Object} data\n * @param {Object} options\n * @returns {Promise<any>}\n */\nexport function del(url, data, options) {\n  return executeRequest('delete', `${url}`, data, options);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}