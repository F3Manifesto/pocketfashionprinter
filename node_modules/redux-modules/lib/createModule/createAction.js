'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _flow2 = require('lodash/flow');

var _flow3 = _interopRequireDefault(_flow2);

exports.default = createAction;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function createAction(type) {
  var actionMiddleware = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

  var middleware = (0, _flow3.default)(actionMiddleware);
  return function actionCreator(payload, meta) {
    return middleware({
      error: payload instanceof Error,
      meta: meta,
      payload: payload,
      type: type
    });
  };
}